<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shark 앨범 카운트 다운</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@1.19.0/dist/full.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2/dist/tailwind.min.css" rel="stylesheet" type="text/css" />
    <style>@import url('https://cdn.rawgit.com/moonspam/NanumSquare/master/nanumsquare.css');* { font-family: 'NanumSquare'; }</style>
</head>
<body style="margin: 0; padding: 0; overflow: hidden;">
    <iframe id="page" src="main.html" style="width: 100vw; height: 100vh; border: 0px;"></iframe>

    <input type="checkbox" id="info-modal" class="modal-toggle"> 
    <div class="modal">
      <div class="modal-box">
        <h2 class="text-2xl font-bold card-title">BGM 삽입 안내</h2>
        <p style="white-space: pre-line;">갑작스러운 BGM 재생으로 인해 놀라셨나요?

            Shark 노래 발매 2일이 지나고,
            드디어 이 웹사이트에 Shark 노래를 삽입했습니다!

            이 Shark 노래가 모두 끝나면 처음부터 다시 반복됩니다!
            
            노래가 나오는게 불편하시면,
            전면에 있는 컨트롤러에서 노래를 중단해 주세요!

            * 만약 노래가 나오지 않으면,
            컨트롤러에서 수동으로 노래를 재생해 주세요! (일부 브라우저의 제약)

            * 만약 노래가 다운로드 창만 나오고 나오지 않으면,
            Chrome 브라우저에서 접속해 주세요. (일부 브라우저의 제약)

            * 만약 컨트롤러가 이상하게 나오면,
            Ctrl+Shift+F5(강제 새로고침)을 해주세요. (캐시가 쌓여 그런 것으로 추정)
        </p> 
        <div class="modal-action">
          <label for="info-modal" class="btn btn-primary" onclick="setCookie('audio', 'true', 7);iospopup();">닫기 (7일 동안 보이지 않습니다.)</label> 
        </div>
      </div>
    </div>

    <!-- <input type="checkbox" id="notice-modal" class="modal-toggle"> 
    <div class="modal">
      <div class="modal-box">
        <h2 class="text-2xl font-bold card-title">iOS에서 카운트다운 비정상 작동 안내</h2>
        <p style="white-space: pre-line;">혹시 iOS를 사용하고 계신가요?

            현재 알 수 없는 문제로 iOS에서
            "날짜 설정이 올바르지 않습니다. 7일후 날짜로 임시 설정됩니다." 메시지가 발생하여,

            정상적으로 서비스를 사용 할 수 없는 문제가 보고 되었습니다.

            서비스 이용에 불편을 드려 죄송합니다.
        </p> 
        <div class="modal-action">
          <label for="notice-modal" class="btn btn-primary" onclick="setCookie('iosnotice', 'true', 7);">닫기 (7일 동안 보이지 않습니다.)</label> 
        </div>
      </div>
    </div> -->

    <script>

      function setCookie(name, value, exp) {
        var date = new Date();
        date.setTime(date.getTime() + exp*24*60*60*1000);
        document.cookie = name + '=' + value + ';expires=' + date.toUTCString() + ';path=/';
      }

      function getCookie(name) {
        var value = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');
        return value? value[2] : null;
      }

      window.addEventListener('load', function() {
        if (getCookie('audio') != 'true') {
          document.body.querySelector("#info-modal").checked = true;
        } else {
            // iospopup();
            void(0);
        }
      })

      function iospopup() {
        /* if (getCookie('iosnotice') != 'true') {
          document.body.querySelector("#notice-modal").checked = true;
        } */
        void(0);
      }

    </script>
</body>
</html>